webpackJsonp([1],{751:function(e,t,n){"use strict";var r=n(1),o=n(136);n(219);var a=function(){function API_Report(e){this.http=e}return API_Report.prototype.getJsonHeader=function(){var e=new o.Headers;return e.append("Content-Type","application/json"),e},API_Report.prototype.getUrlencodedHeader=function(){var e=new o.Headers;return e.append("Content-Type","application/x-www-form-urlencoded"),e},API_Report.prototype.correctOffset=function(e){return e.replace("+","%2B")},API_Report.prototype.createReport=function(e,t,n,r,a){var i=this.getJsonHeader(),s=new o.URLSearchParams;s.set("utcOffset",this.correctOffset(a)),s.set("taskId",r);var c=JSON.stringify({report:e,workTime:t,workDate:n});return this.http.post("/api/report/createReport",c,{headers:i,search:s}).map(function(e){return e.json()})},API_Report.prototype.getTaskAllReportList=function(e,t){var n=this.getJsonHeader(),r=new o.URLSearchParams;return r.set("utcOffset",this.correctOffset(t)),r.set("taskId",e),this.http.get("/api/report/getTaskAllReportList",{headers:n,search:r}).map(function(e){return e.json()})},API_Report.prototype.getProjectReportList=function(e,t,n,r,a){var i=this.getJsonHeader(),s=new o.URLSearchParams;return s.set("utcOffset",this.correctOffset(e)),0!=t.length&&s.set("projectId",t),0!=n.length&&s.set("creatorId",n),0!=r.length&&s.set("startDate",r),0!=a.length&&s.set("endDate",a),this.http.get("/api/report/getProjectReportList",{headers:i,search:s}).map(function(e){return e.json()})},API_Report.prototype.getTaskReportList=function(e,t,n,r,a){var i=this.getJsonHeader(),s=new o.URLSearchParams;return s.set("utcOffset",this.correctOffset(e)),0!=t.length&&s.set("taskId",t),0!=n.length&&s.set("creatorId",n),0!=r.length&&s.set("startDate",r),0!=a.length&&s.set("endDate",a),this.http.get("/api/report/getTaskReportList",{headers:i,search:s}).map(function(e){return e.json()})},API_Report=__decorate([r.Injectable(),__metadata("design:paramtypes",[o.Http])],API_Report)}();t.API_Report=a},750:function(e,t,n){"use strict";var r=n(1),o=n(136);n(219);var a=function(){function API_Task(e){this.http=e}return API_Task.prototype.getJsonHeader=function(){var e=new o.Headers;return e.append("Content-Type","application/json"),e},API_Task.prototype.getUrlencodedHeader=function(){var e=new o.Headers;return e.append("Content-Type","application/x-www-form-urlencoded"),e},API_Task.prototype.correctOffset=function(e){return e.replace("+","%2B")},API_Task.prototype.getProjectHighTaskList=function(e,t){var n=this.getUrlencodedHeader(),r=new o.URLSearchParams;return r.set("projectId",e),r.set("utcOffset",this.correctOffset(t)),this.http.get("/api/task/getProjectHighTaskList",{headers:n,search:r}).map(function(e){return e.json()})},API_Task.prototype.getCreatedTaskList=function(e){var t=this.getUrlencodedHeader(),n=new o.URLSearchParams;return n.set("utcOffset",this.correctOffset(e)),this.http.get("/api/task/getCreatedTaskList",{headers:t,search:n}).map(function(e){return e.json()})},API_Task.prototype.createTask=function(e,t,n){var r=this.getJsonHeader(),a=new o.URLSearchParams;a.set("utcOffset",this.correctOffset(n));var i=JSON.stringify({name:e,ancestorProjectId:t});return this.http.post("/api/task/createTask",i,{headers:r,search:a}).map(function(e){return e.json()})},API_Task.prototype.addTaskExecutor=function(e,t){var n=JSON.stringify({id:t}),r=this.getJsonHeader(),a=new o.URLSearchParams;return a.set("taskId",e),this.http.put("/api/task/addTaskExecutor",n,{headers:r,search:a}).map(function(e){return e.json()})},API_Task.prototype.changeName=function(e,t){var n=JSON.stringify({id:e,name:t}),r=this.getJsonHeader();return this.http.put("/api/task/setName",n,{headers:r}).map(function(e){return e.json()})},API_Task.prototype.changeStatus=function(e,t){var n=JSON.stringify({id:e,status:t}),r=this.getJsonHeader();return this.http.put("/api/task/setStatus",n,{headers:r}).map(function(e){return e.json()})},API_Task.prototype.changeDescription=function(e,t){var n=JSON.stringify({id:e,description:t}),r=this.getJsonHeader();return this.http.put("/api/task/setDescription",n,{headers:r}).map(function(e){return e.json()})},API_Task.prototype.checkLowLevelAuthorities=function(e){var t=this.getUrlencodedHeader(),n=new o.URLSearchParams;return n.set("id",e),this.http.get("/api/task/checkLowLevelAuthorities",{headers:t,search:n}).map(function(e){return e.json()})},API_Task=__decorate([r.Injectable(),__metadata("design:paramtypes",[o.Http])],API_Task)}();t.API_Task=a},753:function(e,t,n){"use strict";var r=n(1),o=n(136);n(219);var a=function(){function API_User(e){this.http=e}return API_User.prototype.getJsonHeader=function(){var e=new o.Headers;return e.append("Content-Type","application/json"),e},API_User.prototype.getUrlencodedHeader=function(){var e=new o.Headers;return e.append("Content-Type","application/x-www-form-urlencoded"),e},API_User.prototype.correctOffset=function(e){return e.replace("+","%2B")},API_User.prototype.getUserList=function(){this.getUrlencodedHeader();return this.http.get("/api/user/getUserList").map(function(e){return e.json()})},API_User.prototype.getParticipantProjectUserList=function(e){var t=this.getUrlencodedHeader(),n=new o.URLSearchParams;return void 0!=e&&n.set("projectId",e),this.http.get("/api/user/getParticipantProjectUserList",{headers:t,search:n}).map(function(e){return e.json()})},API_User.prototype.getParticipantTaskUserList=function(e){var t=this.getUrlencodedHeader(),n=new o.URLSearchParams;return n.set("taskId",e),this.http.get("/api/user/getParticipantTaskUserList",{headers:t,search:n}).map(function(e){return e.json()})},API_User=__decorate([r.Injectable(),__metadata("design:paramtypes",[o.Http])],API_User)}();t.API_User=a},752:function(e,t,n){"use strict";var r=n(748),o=function(e){function ProjectDTO(){e.apply(this,arguments),this.taskList=[]}return __extends(ProjectDTO,e),ProjectDTO}(r.Serializable);t.ProjectDTO=o},754:function(e,t,n){"use strict";var r=n(748),o=function(e){function ReportDTO(){e.apply(this,arguments)}return __extends(ReportDTO,e),ReportDTO}(r.Serializable);t.ReportDTO=o},748:function(e,t){"use strict";var n=function(){function Serializable(){}return Serializable.prototype.fillFromJSON=function(e){var t=JSON.parse(e);for(var n in t)this[n]=t[n]},Serializable}();t.Serializable=n},749:function(e,t,n){"use strict";var r=n(748),o=function(e){function TaskDTO(){e.apply(this,arguments),this.reporterList=[]}return __extends(TaskDTO,e),TaskDTO}(r.Serializable);t.TaskDTO=o},755:function(e,t,n){"use strict";var r=n(748),o=function(e){function UserDTO(){e.apply(this,arguments)}return __extends(UserDTO,e),UserDTO}(r.Serializable);t.UserDTO=o},760:function(e,t,n){"use strict";var r=n(1),o=n(752),a=n(749),i=n(463),s=n(750),c=n(462),p=function(){function ProjectManagement(e,t,n){this.api_Project=e,this.api_Task=t,this.dateFormatter=n,this.taskSelected=new r.EventEmitter,this.isStatusBarOpen=!1,this.statusList=["Active","Frozen","Complete"],this.accessToChangeProject=!1,this.showProjectNameInput=!1,this.showProjectDescriptionTextArea=!1,this.showTaskNameInput=!1}return ProjectManagement.prototype.ngOnInit=function(){},ProjectManagement.prototype.openCloseStatusBar=function(e){this.statusBarValue=e,this.isStatusBarOpen=0==this.isStatusBarOpen},ProjectManagement.prototype.changeStatus=function(e){var t=this;this.project.status!=e&&this.api_Project.changeStatus(this.project.id,e).subscribe(function(n){t.project.status=e},function(e){console.log(e)}),this.isStatusBarOpen=0==this.isStatusBarOpen},ProjectManagement.prototype.checkAccessToCreateTask=function(){var e=this;this.accessToChangeProject?this.showTaskNameInput=!0:this.api_Project.checkAccessToChangeProject(this.project.id).subscribe(function(t){console.log(t),e.showTaskNameInput=!0,e.accessToChangeProject=!0},function(t){console.log(t),e.showTaskNameInput=!1})},ProjectManagement.prototype.createTask=function(e){var t=this;console.log(e),this.api_Task.createTask(e,this.project.id,this.dateFormatter.getUtcOffset()).subscribe(function(e){var n=new a.TaskDTO;n.fillFromJSON(JSON.stringify(e.responseObjects.task)),n.creationDateTime=t.dateFormatter.changeDateTimeToRuWithPattern(n.creationDateTime,"Do MMMM YYYY"),t.project.taskList.push(n),console.log(t.project),console.log(e)},function(e){console.log(e)})},ProjectManagement.prototype.checkAccessToChangeName=function(){var e=this;this.accessToChangeProject?this.showProjectNameInput=!0:this.api_Project.checkAccessToChangeProject(this.project.id).subscribe(function(t){console.log(t),e.showProjectNameInput=!0,e.accessToChangeProject=!0},function(t){console.log(t),e.showProjectNameInput=!1})},ProjectManagement.prototype.changeName=function(e){var t=this,n=e.trim();0!=n.length&&n!=this.project.name&&this.api_Project.changeName(this.project.id,e).subscribe(function(n){t.project.name=e},function(e){console.log(e)}),this.showProjectNameInput=!1},ProjectManagement.prototype.checkAccessToChangeDescription=function(){var e=this;this.accessToChangeProject?this.showProjectDescriptionTextArea=!0:this.api_Project.checkAccessToChangeProject(this.project.id).subscribe(function(t){e.showProjectDescriptionTextArea=!0,e.accessToChangeProject=!0},function(t){console.log(t),e.showProjectDescriptionTextArea=!1})},ProjectManagement.prototype.changeDescription=function(e){var t=this,n=e.trim();0!=n.length&&n!=this.project.description&&this.api_Project.changeDescription(this.project.id,e).subscribe(function(n){t.project.description=e},function(e){console.log(e)}),this.showProjectDescriptionTextArea=!1},ProjectManagement.prototype.moveToTask=function(e){this.taskSelected.emit({task:e})},__decorate([r.Input(),__metadata("design:type",o.ProjectDTO)],ProjectManagement.prototype,"project",void 0),__decorate([r.Output(),__metadata("design:type",Object)],ProjectManagement.prototype,"taskSelected",void 0),ProjectManagement=__decorate([r.Component({selector:"project-management",providers:[i.API_Project,s.API_Task],directives:[],pipes:[],encapsulation:r.ViewEncapsulation.Native,styles:[n(770)],template:n(771)}),__metadata("design:paramtypes",[i.API_Project,s.API_Task,c.DateFormatter])],ProjectManagement)}();t.ProjectManagement=p},770:function(e,t){e.exports='#management-content {\n  margin-left: 15px;\n  width: 100%;\n  background-color: white;\n  font-family: "Open sans", "lucida grande", "Segoe UI", arial, verdana, "lucida sans unicode", tahoma, sans-serif;\n}\n\n#first-level {\n  display: block;\n  border-bottom: 1px solid #eaebec;\n  padding: 15px 100px 15px 20px;\n}\n\n#first-level #project-name {\n  display: inline-block;\n  font-weight: 300;\n  font-size: 25px;\n  color: rgba(26, 177, 136, 1);\n\n}\n\n#first-level #projectNameInput {\n  display: inline-block;\n  font-weight: 100;\n  font-size: 22px;\n  width: 100%;\n}\n\n#first-level #creation-date-bar {\n  display: inline-block;\n  color: rgba(19, 35, 47, 0.9);\n}\n\n#first-level #owner-name-bar {\n  margin-left: 20px;\n  display: inline-block;\n  color: rgba(19, 35, 47, 0.9);\n  font-weight: 800;\n}\n\n#second-level {\n  display: block;\n  border-bottom: 1px solid #eaebec;\n}\n\n#second-level #status-bar {\n  display: inline-block;\n  padding: 10px 50px 10px 0;\n  border-left: 6px solid rgba(26, 177, 136, 1);\n  cursor: pointer;\n}\n\n#second-level #status-bar span {\n  padding-left: 10px;\n  font-weight: 700;\n}\n\n#second-level #drop-status-menu {\n  z-index: 2;\n\n  position: absolute;\n  width: 100px;\n  height: 150px;\n  background-color: white;\n  border: 1px solid #eaebec;\n}\n\n#second-level #drop-status-menu ul {\n  margin: 0;\n  padding: 0;\n  list-style: none;\n}\n\n#second-level #drop-status-menu ul li {\n  font-weight: 300;\n  padding: 10px 0 10px 5px;\n}\n\n#second-level #drop-status-menu ul li:hover {\n  color: white;\n  background-color: rgba(26, 177, 136, 1);\n}\n\n#second-level #add-executor-bar {\n  display: inline-block;\n}\n\n#second-level #add-executor-bar select {\n  padding: 5px 20px;\n  font-size: 15px;\n  font-weight: 300;\n  cursor: pointer;\n}\n\n#third-level {\n  z-index: 1;\n  display: block;\n  color: black;\n  font-weight: 300;\n  border-bottom: 1px solid #eaebec;\n}\n\n#third-level #select-end-date {\n  display: inline-block;\n}\n\n#third-level #timer {\n  display: inline-block;\n}\n\n#third-level #create-task-bar {\n  padding: 10px 0;\n  margin-left: 10px;\n  display: inline-block;\n}\n\n#third-level #create-task-bar #just-do-it-bar {\n  font-size: 20px;\n  cursor: pointer;\n\n}\n\n#third-level #create-task-bar #taskNameInput {\n  margin-left: 10px;\n  display: inline-block;\n  font-size: 20px;\n  width: 100%;\n}\n\n#fourth-level {\n}\n\n#fourth-level #task-list ul {\n  padding: 0;\n  margin: 0;\n  width: auto;\n  list-style: none;\n  border-right: 5px solid rgba(26, 177, 136, 1);\n  border-left: 5px solid rgba(26, 177, 136, 1);\n}\n\n#fourth-level #task-list ul li {\n  padding: 6px 0;\n  font-size: 15px;\n  font-weight: 300;\n  color: #828282;\n  background-color: #FAFAFA;\n  border-top: 1px solid #eaebec;\n  cursor: pointer;\n}\n\n#fourth-level #task-list ul li:hover {\n\n  background-color: rgba(26, 177, 136, 0.8);\n  color: white;\n\n  -moz-transition: all 0.5s ease-out 0s;\n  -webkit-transition: all 0.5s ease-out 0s;\n  transition: all 0.5s ease-out 0s;\n}\n\n#fourth-level #task-list ul li span {\n  margin-left: 15px;\n}\n\n#fifth-level {\n  border-top: 1px solid #eaebec;\n\n}\n#fifth-level #description-span {\n  display: block;\n  padding: 10px 0 5px 20px;\n  font-size: 20px;\n  font-weight: 200;\n}\n#fifth-level #description {\n  padding: 5px 20px 20px 20px;\n  min-width: 200px;\n  min-height: 200px;\n  border-bottom: 1px solid #eaebec;\n}\n\n#fifth-level textarea {\n  padding: 5px 20px 20px 20px;\n  font-size: 17px;\n  min-width: 460px;\n  min-height: 250px;\n}\n\n'},771:function(e,t){e.exports='<div id="management-content">\n  <div id="first-level">\n    <div id="name-bar"\n         (click)="checkAccessToChangeName()">\n      <span id="project-name"\n            *ngIf="!showProjectNameInput">\n        {{project.name}}\n      </span>\n      <md-input id="projectNameInput"\n                *ngIf="showProjectNameInput"\n                #name [value]="project.name"\n                (keydown.enter)="changeName(name.value)"\n                (mouseleave)="changeName(name.value)">\n      </md-input>\n    </div>\n\n    <div id="creation-date-bar">\n      Создан: {{project.creationDateTime}}\n    </div>\n\n    <div id="owner-name-bar">\n      ( Владелец : {{project.owner.name}} )\n    </div>\n  </div>\n\n  <div id="second-level">\n    <div id="status-bar">\n      <div (click)="openCloseStatusBar()">\n        <span>{{project.status}}</span>\n        <img src="https://cdn4.iconfinder.com/data/icons/geomicons/32/672341-triangle-down-128.png" width="5%">\n      </div>\n      <div *ngIf=" isStatusBarOpen" id="drop-status-menu"\n           (mouseleave)="openCloseStatusBar()">\n        <ul>\n          <li *ngFor="let status of statusList"\n              (click)="changeStatus(status)">\n            {{status}}\n          </li>\n        </ul>\n      </div>\n    </div>\n\n    <div id="add-executor-bar">\n      <select>\n        <option selected> Добавить пользователя</option>\n        <option>Миша</option>\n        <option>Вася</option>\n      </select>\n\n    </div>\n  </div>\n\n  <div id="third-level">\n    <!--  <div id="select-end-date">\n        <span>Выбрать дату окончания</span>\n      </div>-->\n    <div id="add-task">\n\n      <div id="create-task-bar"\n           (click)="checkAccessToCreateTask()">\n      <span id="just-do-it-bar"\n            *ngIf="!showTaskNameInput">\n        + Добавить задачу\n      </span>\n        <md-input id="taskNameInput"\n                  *ngIf="showTaskNameInput"\n                  #taskName\n                  (keydown.enter)="createTask(taskName.value)"\n                  (mouseleave)="showTaskNameInput=false">\n        </md-input>\n      </div>\n\n\n    </div>\n  </div>\n\n  <div id="fourth-level">\n    <div id="task-list">\n      <ul>\n        <li *ngFor="let task of project.taskList"\n        (click)="moveToTask(task)">\n          <span>{{task.name}}</span>\n        </li>\n      </ul>\n\n    </div>\n  </div>\n\n\n  <div id="fifth-level">\n    <span id="description-span">Описание:</span>\n    <div id="project-description">\n      <div id="description"\n           *ngIf="!showProjectDescriptionTextArea"\n           (click)="checkAccessToChangeDescription()">\n        <span *ngIf="project.description==undefined ||project.description.length==0 ">\n          Заполнить описание\n        </span>\n        <span\n          *ngIf="project.description!=undefined">\n          {{project.description}}\n        </span>\n      </div>\n\n      <div id="descriptionTextArea"\n           *ngIf="showProjectDescriptionTextArea">\n        <textarea #descr [value]="project.description"\n                  (keydown.enter)="changeDescription(descr.value)"\n                  (mouseleave)="changeDescription(descr.value)">\n        </textarea>\n        <!--<button md-raised-button class="md-raised md-primary"-->\n        <!--(click)="changeDescription(descr.value)">Изменить-->\n        <!--</button>-->\n      </div>\n\n    </div>\n  </div>\n\n</div>\n\n\n\n\n\n\n\n'},465:function(e,t,n){"use strict";var r=n(1),o=n(760),a=n(762),i=n(752),s=n(749),c=n(463),p=n(750),d=n(462),l=function(){function Projects(e,t,n){this.api_Project=e,this.api_Task=t,this.dateFormatter=n,this.targetProject=new i.ProjectDTO,this.projectList=[],this.openProjectBar=!1,this.openTaskBar=!1,this.openProjectTaskList=!1,this.openCreateProject=!1}return Projects.prototype.ngOnInit=function(){this.getUserActiveProjectList()},Projects.prototype.getUserActiveProjectList=function(){var e=this;this.api_Project.getUserActiveProjectList(this.dateFormatter.getUtcOffset()).subscribe(function(t){0!=t.responseObjects.projectList.length&&(e.projectList=e.transferProjectListToDTO(t.responseObjects.projectList))},function(e){console.log(e)})},Projects.prototype.getProjectHighTaskList=function(){var e=this;this.api_Task.getProjectHighTaskList(this.targetProject.id,this.dateFormatter.getUtcOffset()).subscribe(function(t){e.pushTransferTaskListToProject(t.responseObjects.taskList),console.log(t)},function(e){console.log(e)})},Projects.prototype.createProject=function(){var e=this;this.api_Project.createProject(this.projectName,this.dateFormatter.getUtcOffset()).subscribe(function(t){e.targetProject.fillFromJSON(JSON.stringify(t.responseObjects.project)),e.targetProject.creationDateTime=e.dateFormatter.changeDateTimeToRuWithPattern(e.targetProject.creationDateTime,"Do MMMM YYYY"),e.projectList.push(e.targetProject),e.openProjectBar=!0,e.openCreateProjectSwitch()},function(e){console.log(e),console.log(e._body)})},Projects.prototype.transferProjectListToDTO=function(e){for(var t=[],n=0;n<e.length;n++){var r=new i.ProjectDTO;r.fillFromJSON(JSON.stringify(e[n])),r.creationDateTime=this.dateFormatter.changeDateTimeToRuWithPattern(r.creationDateTime,"Do MMMM YYYY"),t.push(r)}return t},Projects.prototype.pushTransferTaskListToProject=function(e){for(var t=0;t<e.length;t++){var n=new s.TaskDTO;n.fillFromJSON(JSON.stringify(e[t])),n.creationDateTime=this.dateFormatter.changeDateTimeToRuWithPattern(n.creationDateTime,"Do MMMM YYYY"),this.targetProject.taskList.push(n)}},Projects.prototype.projectOpenCloseSwitch=function(e){this.openProjectBar=!0,this.openTaskBar=!1,this.openProjectTaskList=!1,this.targetProject=e,0==this.targetProject.taskList.length&&this.getProjectHighTaskList()},Projects.prototype.openCreateProjectSwitch=function(){this.openCreateProject=0==this.openCreateProject},Projects.prototype.changeProjectToTaskBar=function(e){this.openProjectTaskList=!0,this.openProjectBar=!1,this.openTaskBar=!0,this.targetTask=e.task},Projects=__decorate([r.Component({selector:"projects",providers:[c.API_Project,p.API_Task],directives:[o.ProjectManagement,a.TaskManagement],pipes:[],encapsulation:r.ViewEncapsulation.Native,styles:[n(772)],template:n(773)}),__metadata("design:paramtypes",[c.API_Project,p.API_Task,d.DateFormatter])],Projects)}();t.Projects=l},772:function(e,t){e.exports='#projects-content {\n  float: left;\n  margin: 20px;\n  height: 100%;\n  font-family: "Open sans", "lucida grande", "Segoe UI", arial, verdana, "lucida sans unicode", tahoma, sans-serif;\n\n}\n\n#projects-list-bar {\n  float: left;\n  display: inline-block;\n  width: 400px;\n  height: 100%;\n  background-color: white;\n}\n\n#projects-menu ul {\n  padding: 0;\n  margin: 0;\n}\n\n#projects-menu ul li {\n  list-style: none;\n  display: inline-block;\n  padding: 5px 10px;\n  margin-right: 10px;\n  font-size: 13px;\n  color: #6b99c7;\n  cursor: pointer;\n}\n\n#projects-menu ul li:hover {\n  background-color: #f5f8fc;\n}\n\n#project-list {\n  display: block;\n}\n\n#project-list #create-project-button  {\n  padding: 10px;\n  margin: 0 0;\n  cursor: pointer;\n}\n\n#project-list #create-project-button #plus-part {\n  display: inline-block;\n  color: #6b99c7;\n  font-size: 25px;\n  font-weight: bold;\n}\n\n#project-list #create-project-button #create-part {\n  display: inline-block;\n  color: #6b99c7;\n  font-size: 15px;\n}\n\n#create-project-button div:hover {\n  background-color: #f5f8fc;\n}\n\n#project-list #create-project-button form {\n  padding: 10px;\n  margin: 0 0;\n}\n\n#project-list #create-project-button input {\n  padding: 5px 25px;\n}\n#project-list #create-project-button button {\n  background-color: rgba(26, 177, 136, 1);\n }\n\n#project-list ul {\n  padding: 0;\n  margin: 0;\n  display: block;\n  list-style: none;\n}\n\n#project-list li {\n  padding: 10px 0;\n  border-top:   1px solid #eaebec;\n  cursor: pointer;\n}\n\n#project-list li:hover {\n background-color: aliceblue;\n}\n\n\n#project-list li span {\n  padding-left: 40px;\n  color: #515151;\n  font-weight: 400;\n}\n\n\n#project-list #task-list li {\n  padding: 5px 0;\n  border-top:  1px solid #eaebec;\n  font-size: 15px;\n  background-color: #929292;\n}\n\n#project-list #task-list li span {\n  padding-left: 60px;\n  color: #515151;\n  font-weight: 300;\n}\n\n#project-list #task-list li:hover {\n  background-color: aliceblue;\n}\n\n\n#project-task-management {\n  display: inline-block;\n  float: left;\n}\n\n\n'},773:function(e,t){e.exports='<div id="projects-content">\n\n  <div id="projects-list-bar">\n\n    <div id="projects-menu">\n      <ul>\n        <li>Активные</li>\n        <li>Законченные</li>\n        <li>Поиск проектов</li>\n      </ul>\n    </div>\n\n\n    <div id="project-list">\n      <div id="create-project-button">\n        <div *ngIf="!openCreateProject" (click)="openCreateProjectSwitch()">\n          <span id="plus-part">+</span>\n          <span id="create-part">Создать проект</span>\n        </div>\n        <form *ngIf="openCreateProject" (blur)="openCreateProjectSwitch()">\n          <input md-input [(ngModel)]="projectName"\n                 placeholder="Введите название проекта" type="text">\n          <button md-raised-button class="md-raised md-primary"\n                  (click)="createProject()">Подтвердить\n          </button>\n        </form>\n      </div>\n      <ul>\n        <li *ngIf="projectList.length==0">\n          <span>У вас нет ни одного проекта</span>\n        </li>\n        <li *ngFor="let project of projectList"\n            (click)="projectOpenCloseSwitch(project)">\n          <span id="project-name">{{project.name}}</span>\n\n          <div id="task-list" *ngIf="openProjectTaskList">\n            <ul *ngIf="targetProject.name==project.name &&\n             targetTask!=undefined">\n              <li *ngFor="let task of project.taskList">\n               <span>{{task.name}}</span>\n              </li>\n            </ul>\n          </div>\n        </li>\n      </ul>\n      <!-- <div id="create-task-button">\n      <div><span>+</span> Создать задачу</div>\n    </div>-->\n    </div>\n  </div>\n  <div id="project-task-management">\n    <project-management *ngIf="openProjectBar"\n                        [project]="targetProject"\n                        (taskSelected)="changeProjectToTaskBar($event)">\n\n    </project-management>\n\n    <task-management *ngIf="openTaskBar"\n                     [task]="targetTask">\n\n    </task-management>\n  </div>\n\n\n</div>\n'},761:function(e,t,n){"use strict";var r=n(1),o=n(749),a=n(751),i=n(462),s=function(){function ReportBar(e,t){this.api_Report=e,this.dateFormatter=t,this.createdReport=new r.EventEmitter,this.inputHours="",this.inputMinutes="",this.inputReport="",this.errorMessage=""}return ReportBar.prototype.ngOnInit=function(){this.inputDate=this.dateFormatter.getCurrentDate(),this.reportDate=this.dateFormatter.getCurrentMonth()},ReportBar.prototype.createReport=function(){var e=this;if(this.validateData()){this.inputHours=1==this.inputHours.length?"0"+this.inputHours:this.inputHours,this.inputMinutes=1==this.inputMinutes.length?"0"+this.inputMinutes:this.inputMinutes;var t=this.inputHours+":"+this.inputMinutes;this.api_Report.createReport(this.inputReport,t,this.inputDate,this.task.id,this.dateFormatter.getUtcOffset()).subscribe(function(t){e.createdReport.emit({report:t.responseObjects.report})},function(e){console.log(e)})}},ReportBar.prototype.validateData=function(){if(0==this.inputHours.length||0==this.inputMinutes.length)return this.errorMessage="Заполните время работы",!1;var e=+this.inputHours,t=+this.inputMinutes;return e>24?(this.errorMessage="Часов не может быть больше 24",!1):t>60?(this.errorMessage="Минут не может быть больше 60",!1):0==this.inputReport.trim().length?(this.errorMessage="Необходимо заполнить отчет",!1):!0},__decorate([r.Input(),__metadata("design:type",o.TaskDTO)],ReportBar.prototype,"task",void 0),__decorate([r.Output(),__metadata("design:type",Object)],ReportBar.prototype,"createdReport",void 0),ReportBar=__decorate([r.Component({selector:"report-bar",providers:[a.API_Report],directives:[],pipes:[],styles:[n(774)],template:n(775)}),__metadata("design:paramtypes",[a.API_Report,i.DateFormatter])],ReportBar)}();t.ReportBar=s},774:function(e,t){e.exports="#report-bar-container {\n  background-color: white;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);\n}\n\n#report-bar-container #report-bar-indent {\n  padding: 15px;\n}\n\n#report-bar-container #report-bar-timer {\n  display: inline-block;\n  font: 24px/32px 'Tahoma', sans-serif;\n}\n\n#report-bar-container #report-bar-timer input {\n  width: 25px;\n  height: 40px;\n  border: 1px solid #d9d9d9;\n  font: 24px/32px 'Tahoma', sans-serif;\n  text-align: right;\n  padding: 0 3px;\n  vertical-align: middle;\n}\n\n#report-bar-container #report-bar-calendar {\n  margin-left: 10px;\n  display: inline-block;\n}\n\n#report-bar-container #report-bar-textarea {\n  margin-top: 10px;\n  display: block;\n}\n\n#report-bar-container #report-bar-textarea textarea {\n  width: 300px;\n  height: 140px;\n  font-size: 21px;\n  font-weight: 100;\n}\n\n#report-bar-container #errorMessage {\n  display: block;\n  font-size: 13px;\n  color: darkred;\n}\n\n#report-bar-container #mega-calendar {\n  color: rgba(26, 177, 136, 1);\n  cursor: pointer;\n}\n\n#report-bar-container #mega-calendar:hover {\n  color: rgba(26, 177, 136, 0.8);\n}\n\n#report-bar-container #report-bar-send-report button {\n  background-color: rgba(26, 177, 136, 1);\n}\n\n\n\n"},775:function(e,t){e.exports='\n<div id="report-bar-container">\n\n  <div id="report-bar-indent">\n    <div id="report-bar-header">\n      <span>Часы</span>\n      <span>Минуты</span>\n      <div id="report-bar-timer">\n        <input id="hours" [(ngModel)]="inputHours" maxlength="2"\n               onkeyup="this.value = this.value.replace (/[^0-9]/, \'\')">\n        <span id="report-bar-timer-colon">:</span>\n        <input id="minutes" [(ngModel)]="inputMinutes" maxlength="2"\n               onkeyup="this.value = this.value.replace (/[^0-9]/, \'\')">\n      </div>\n\n        <div id="mega-calendar">\n            <span>За {{reportDate}}</span>\n        </div>\n\n    </div>\n\n    <div id="report-bar-textarea">\n    <textarea [(ngModel)]="inputReport">\n\n    </textarea>\n      <span id="errorMessage" *ngIf="errorMessage.length!=0">\n        {{errorMessage}}\n      </span>\n    </div>\n\n    <div id="report-bar-send-report">\n      <button md-raised-button class="md-raised md-primary"\n      (click)="createReport()">Добавить отчет\n      </button>\n    </div>\n  </div>\n</div>\n\n'},762:function(e,t,n){"use strict";var r=n(1),o=n(749),a=n(754),i=n(755),s=n(761),c=n(750),p=n(751),d=n(753),l=n(462),u=function(){function TaskManagement(e,t,n,r){this.api_Task=e,this.api_Report=t,this.api_User=n,this.dateFormatter=r,this.userList=[],this.isStatusBarOpen=!1,this.showTaskNameInput=!1,this.showSubTaskNameInput=!1,this.showTaskDescriptionTextArea=!1,this.showReportBar=!1,this.accessToChangeTask=!1,this.statusList=["Active","Frozen","New","Complete"]}return TaskManagement.prototype.ngOnInit=function(){this.getTaskAllReportList(),this.getUserList()},TaskManagement.prototype.changeName=function(e){var t=this,n=e.trim();0!=n.length&&n!=this.task.name&&this.api_Task.changeName(this.task.id,e).subscribe(function(n){t.task.name=e},function(e){console.log(e)}),this.showTaskNameInput=!1},TaskManagement.prototype.checkAccessToChangeName=function(){var e=this;this.accessToChangeTask?this.showTaskNameInput=!0:this.api_Task.checkLowLevelAuthorities(this.task.id).subscribe(function(t){console.log(t),e.showTaskNameInput=!0,e.accessToChangeTask=!0},function(t){console.log(t),e.showTaskNameInput=!1})},TaskManagement.prototype.changeStatus=function(e){var t=this;this.task.status!=e&&this.api_Task.changeStatus(this.task.id,e).subscribe(function(n){t.task.status=e},function(e){console.log(e)}),this.isStatusBarOpen=0==this.isStatusBarOpen},TaskManagement.prototype.checkAccessToCreateSubTask=function(){var e=this;this.accessToChangeTask?this.showSubTaskNameInput=!0:this.api_Task.checkLowLevelAuthorities(this.task.id).subscribe(function(t){console.log(t),e.showSubTaskNameInput=!0,e.accessToChangeTask=!0},function(t){console.log(t),e.showSubTaskNameInput=!1})},TaskManagement.prototype.changeDescription=function(e){var t=this,n=e.trim();0!=n.length&&n!=this.task.description&&this.api_Task.changeDescription(this.task.id,e).subscribe(function(n){t.task.description=e},function(e){console.log(e)}),this.showTaskDescriptionTextArea=!1},TaskManagement.prototype.checkAccessToChangeDescription=function(){var e=this;this.accessToChangeTask?this.showTaskDescriptionTextArea=!0:this.api_Task.checkLowLevelAuthorities(this.task.id).subscribe(function(t){e.showTaskDescriptionTextArea=!0,e.accessToChangeTask=!0},function(t){console.log(t),e.showTaskDescriptionTextArea=!1})},TaskManagement.prototype.openCloseStatusBar=function(e){this.statusBarValue=e,this.isStatusBarOpen=0==this.isStatusBarOpen},TaskManagement.prototype.openCloseReportBar=function(){var e=this;this.accessToChangeTask?this.showReportBar=0==this.showReportBar:this.api_Task.checkLowLevelAuthorities(this.task.id).subscribe(function(t){e.showReportBar=!0,e.accessToChangeTask=!0},function(t){console.log(t),e.showReportBar=!1})},TaskManagement.prototype.getTaskAllReportList=function(){var e=this;this.api_Report.getTaskAllReportList(this.task.id,this.dateFormatter.getUtcOffset()).subscribe(function(t){console.log(t),e.pushTransferReportListToProject(t.responseObjects.reportList)},function(e){console.log(e)})},TaskManagement.prototype.reportCreated=function(e){this.showReportBar=!1,console.log(e)},TaskManagement.prototype.pushTransferReportListToProject=function(e){for(var t=0;t<e.length;t++){var n=new a.ReportDTO;n.fillFromJSON(JSON.stringify(e[t])),n.workTime=this.dateFormatter.transformTime(n.workTime),n.creationDateTime=this.dateFormatter.changeDateTimeToRuWithPattern(n.creationDateTime,"Do MMMM YYYY"),this.task.reportList.push(n)}},TaskManagement.prototype.getUserList=function(){var e=this;0==this.userList.length&&this.api_User.getUserList().subscribe(function(t){e.pushTransferUserListToListDTO(t.responseObjects.userList);
},function(e){console.log(e)})},TaskManagement.prototype.addTaskExecutor=function(){var e=this;void 0!=this.selectedUser?this.api_Task.addTaskExecutor(this.task.id,this.selectedUser.id).subscribe(function(t){console.log(t);var n=new i.UserDTO;n.fillFromJSON(JSON.stringify(t.responseObjects.executor)),e.task.executor=n},function(e){console.log(e)}):console.log("Необходимо выбрать исполнителя перед отправкой")},TaskManagement.prototype.userSelected=function(){var e=this;this.selectedUser=this.userList.find(function(t){return t.name===e.selectedUserName})},TaskManagement.prototype.pushTransferUserListToListDTO=function(e){for(var t=0;t<e.length;t++){var n=new i.UserDTO;n.fillFromJSON(JSON.stringify(e[t])),this.userList.push(n)}},__decorate([r.Input(),__metadata("design:type",o.TaskDTO)],TaskManagement.prototype,"task",void 0),TaskManagement=__decorate([r.Component({selector:"task-management",providers:[c.API_Task,p.API_Report,d.API_User],directives:[s.ReportBar],pipes:[],styles:[n(776)],template:n(777)}),__metadata("design:paramtypes",[c.API_Task,p.API_Report,d.API_User,l.DateFormatter])],TaskManagement)}();t.TaskManagement=u},776:function(e,t){e.exports='#management-content {\n  margin-left: 15px;\n  width: 100%;\n  background-color: white;\n  font-family: "Open sans", "lucida grande", "Segoe UI", arial, verdana, "lucida sans unicode", tahoma, sans-serif;\n}\n\n#first-level {\n  display: block;\n  border-bottom: 1px solid #eaebec;\n  padding: 15px 100px 15px 20px;\n}\n\n#first-level #task-name {\n  display: inline-block;\n  font-weight: 300;\n  font-size: 25px;\n  color: rgba(26, 177, 136, 1);;\n\n}\n\n#first-level #taskNameInput {\n  display: inline-block;\n  font-weight: 100;\n  font-size: 22px;\n  width: 100%;\n}\n\n#first-level #creation-date-bar {\n  display: inline-block;\n  color: rgba(19, 35, 47, 0.9);\n}\n\n#first-level #owner-name-bar {\n  margin-left: 20px;\n  display: inline-block;\n  color: rgba(19, 35, 47, 0.9);\n  font-weight: 800;\n}\n\n#first-level #executor-name-bar {\n  margin-left: 20px;\n  display: block;\n  color: rgba(19, 35, 47, 0.9);\n  font-weight: 800;\n}\n\n#second-level {\n  display: block;\n  border-bottom: 1px solid #eaebec;\n}\n\n#second-level #status-bar {\n  display: inline-block;\n  padding: 10px 10px 10px 0;\n  border-left: 6px solid rgba(26, 177, 136, 1);\n  cursor: pointer;\n}\n\n#second-level #status-bar span {\n  padding-left: 10px;\n  font-weight: 700;\n}\n\n#second-level #drop-status-menu {\n  z-index: 2;\n\n  position: absolute;\n  width: 100px;\n  height: 180px;\n  background-color: white;\n  border: 1px solid #eaebec;\n}\n\n#second-level #drop-status-menu ul {\n  margin: 0;\n  padding: 0;\n  list-style: none;\n}\n\n#second-level #drop-status-menu ul li {\n  font-weight: 300;\n  padding: 10px 0 10px 5px;\n}\n\n#second-level #drop-status-menu ul li:hover {\n  color: white;\n  background-color: rgba(26, 177, 136, 1);\n}\n\n#second-level #drop-report-menu  {\n  margin-left: 10px;\n  display: inline-block;\n}\n\n#second-level #drop-report-menu button  {\n  background-color: rgba(26, 177, 136, 1);\n}\n\n#second-level #drop-report-menu button:hover {\n  background-color: rgba(26, 177, 136, 0.8);\n}\n\n#second-level #add-executor-bar {\n  display: inline-block;\n}\n#second-level #add-executor-bar button {\n  background-color: rgba(26, 177, 136, 1);\n}\n\n\n#second-level #create-report-bar{\n  position: absolute;\n  left: 780px;\n  top: 240px;\n}\n\n#second-level #add-executor-bar select {\n  padding: 5px 20px;\n  font-size: 15px;\n  font-weight: 300;\n  cursor: pointer;\n}\n\n#third-level {\n  z-index: 1;\n  display: block;\n  color: black;\n  font-weight: 300;\n  border-bottom: 1px solid #eaebec;\n}\n\n#third-level #select-end-date {\n  display: inline-block;\n}\n\n#third-level #timer {\n  display: inline-block;\n}\n\n#third-level #create-sub-task-bar {\n  padding: 10px 0;\n  margin-left: 10px;\n  display: inline-block;\n}\n\n#third-level #create-sub-task-bar #just-do-it-bar {\n  font-size: 20px;\n  cursor: pointer;\n\n}\n\n#third-level #create-sub-task-bar #subTaskNameInput {\n  margin-left: 10px;\n  display: inline-block;\n  font-size: 20px;\n  width: 100%;\n}\n\n#fourth-level {\n}\n\n#fourth-level #sub-task-list ul {\n  padding: 0;\n  margin: 0;\n  width: auto;\n  list-style: none;\n  border-right: 5px solid rgba(26, 177, 136, 1);\n  border-left: 5px solid rgba(26, 177, 136, 1);\n}\n\n#fourth-level #sub-task-list ul li {\n  padding: 6px 0;\n  font-size: 15px;\n  font-weight: 300;\n  color: #828282;\n  background-color: #FAFAFA;\n  border-top: 1px solid #eaebec;\n  cursor: pointer;\n}\n\n#fourth-level #sub-task-list ul li:hover {\n\n  background-color: rgba(26, 177, 136, 0.8);\n  color: white;\n\n  -moz-transition: all 0.5s ease-out 0s;\n  -webkit-transition: all 0.5s ease-out 0s;\n  transition: all 0.5s ease-out 0s;\n}\n\n#fourth-level #sub-task-list ul li span {\n  margin-left: 15px;\n}\n\n#fifth-level {\n  border-top: 1px solid #eaebec;\n\n}\n#fifth-level #description-span {\n  display: block;\n  padding: 10px 0 5px 20px;\n  font-size: 20px;\n  font-weight: 200;\n}\n#fifth-level #description {\n  padding: 5px 20px 20px 20px;\n  min-width: 200px;\n  min-height: 200px;\n  border-bottom: 1px solid #eaebec;\n}\n\n#fifth-level textarea {\n  padding: 5px 20px 20px 20px;\n  font-size: 17px;\n  min-width: 460px;\n  min-height: 250px;\n}\n\n#sixth-level{\n  display: block;\n}\n\n#sixth-level #report-bar{\n  display: block;\n}\n\n#sixth-level #report-bar ul{\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n#sixth-level #report-bar ul li {\n  border-bottom: 1px solid #eaebec;\n}\n\n#sixth-level #report-bar ul li #report-bar-header {\n  padding: 5px 0;\n  color: white;\n  background-color: rgba(26, 177, 136, 1);\n}\n\n#sixth-level #report-bar ul li #author{\n  margin-left: 10px;\n  display: inline-block;\n  font-size: 16px;\n}\n\n#sixth-level #report-bar ul li #creation-date{\n  float: right;\n  display: inline-block;\n  margin-right: 5px;\n  font-size: 16px;\n}\n\n#sixth-level #report-bar ul li #report{\n  min-height: 50px;\n  display:block;\n  margin: 10px;\n  font-size: 18px;\n}\n\n#sixth-level #report-bar ul li #spend-time{\n  display:block;\n  margin: 0 0 5px 10px;\n  font-size: 15px;\n  color: rgba(26, 177, 136, 1);\n}\n\n\n\n\n\n\n\n\n'},777:function(e,t){e.exports='<div id="management-content">\n  <div id="first-level">\n    <div id="name-bar"\n         (click)="checkAccessToChangeName()">\n      <span id="task-name"\n            *ngIf="!showTaskNameInput">\n        {{task.name}}\n      </span>\n      <md-input id="taskNameInput"\n                *ngIf="showTaskNameInput"\n                #name [value]="task.name"\n                (keydown.enter)="changeName(name.value)"\n                (mouseleave)="changeName(name.value)">\n      </md-input>\n    </div>\n\n    <div id="creation-date-bar">\n      Создана: {{task.creationDateTime}}\n    </div>\n\n    <div id="owner-name-bar">\n      ( Владелец : {{task.owner.name}} )\n    </div>\n\n    <div id="executor-name-bar">\n      <span *ngIf="task.executor!=undefined">\n        ( Исполнитель : {{task.executor.name}} )\n      </span>\n      <span *ngIf="task.executor==undefined">\n        Исполнитель не назначен\n      </span>\n    </div>\n  </div>\n\n  <div id="second-level">\n    <div id="status-bar">\n      <div (click)="openCloseStatusBar()">\n        <span>{{task.status}}</span>\n        <img src="https://cdn4.iconfinder.com/data/icons/geomicons/32/672341-triangle-down-128.png" width="5%">\n      </div>\n      <div *ngIf=" isStatusBarOpen" id="drop-status-menu"\n           (mouseleave)="openCloseStatusBar()">\n        <ul>\n          <li *ngFor="let status of statusList"\n              (click)="changeStatus(status)">\n            {{status}}\n          </li>\n        </ul>\n      </div>\n    </div>\n\n    <div id="drop-report-menu">\n      <button md-raised-button class="md-raised md-primary"\n              (click)="openCloseReportBar()">\n        Создать отчет\n      </button>\n      <div *ngIf="showReportBar" id="create-report-bar">\n        <report-bar [task]="task" (createdReport)="reportCreated($event)"></report-bar>\n      </div>\n    </div>\n\n\n    <div id="add-executor-bar">\n      <select [(ngModel)]="selectedUserName"\n              (ngModelChange)="userSelected()">\n        <option selected>Выбрать Исполнителя</option>\n        <option *ngFor=" let user of userList">{{user.name}}\n      </option>\n      </select>\n      <button md-raised-button class="md-raised md-primary"\n              (click)="addTaskExecutor()">\n        Добавить\n      </button>\n    </div>\n  </div>\n\n  <div id="third-level">\n    <!--  <div id="select-end-date">\n        <span>Выбрать дату окончания</span>\n      </div>-->\n    <div id="add-sub-task">\n\n      <div id="create-sub-task-bar"\n           (click)="checkAccessToCreateSubTask()">\n      <span id="just-do-it-bar"\n            *ngIf="!showSubTaskNameInput">\n        + Добавить Подзадачу\n      </span>\n        <md-input id="subTaskNameInput"\n                  *ngIf="showSubTaskNameInput"\n                  #subTaskName\n                  (keydown.enter)="createTask(subTaskName.value)"\n                  (mouseleave)="showSubTaskNameInput=false">\n        </md-input>\n      </div>\n\n\n    </div>\n  </div>\n\n  <!--  <div id="fourth-level">\n      <div id="sub-task-list">\n        <ul>\n          <li *ngFor="let task of project.taskList"\n              (click)="moveToTask(task)">\n            <span>{{task.name}}</span>\n          </li>\n        </ul>\n      </div>\n    </div>-->\n\n\n  <div id="fifth-level">\n    <span id="description-span">Описание:</span>\n    <div id="task-description">\n      <div id="description"\n           *ngIf="!showTaskDescriptionTextArea"\n           (click)="checkAccessToChangeDescription()">\n        <span *ngIf="task.description==undefined ||task.description.length==0 ">\n          Заполнить описание\n        </span>\n        <span\n          *ngIf="task.description!=undefined">\n          {{task.description}}\n        </span>\n      </div>\n\n      <div id="descriptionTextArea"\n           *ngIf="showTaskDescriptionTextArea">\n        <textarea #descr [value]="task.description"\n                  (keydown.enter)="changeDescription(descr.value)"\n                  (mouseleave)="changeDescription(descr.value)">\n        </textarea>\n      </div>\n\n    </div>\n  </div>\n\n  <div id="sixth-level">\n    <div id="report-bar">\n      <ul>\n        <li *ngFor="let report of task.reportList">\n          <div id="report-bar-header">\n            <div id="author"> Автор: {{report.creator.name}}</div>\n            <div id="creation-date">Создан:{{report.creationDateTime}}</div>\n          </div>\n          <div id="report">{{report.report}}</div>\n          <div id="spend-time">Времени затрачено: {{report.workTime}}\n            за {{report.workDate}}\n          </div>\n        </li>\n      </ul>\n\n    </div>\n  </div>\n\n</div>\n\n\n\n\n\n\n\n'}});
//# sourceMappingURL=1.bundle.map